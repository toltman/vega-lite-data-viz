<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Visualizations</title>
    <link rel="stylesheet" href="./styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  </head>
  <body>
    <header>
      <div class="title-container">
        <h1 class="main-title">Data Visualizations</h1>
      </div>
    </header>
    <div class="main-container">
      <article>
        <h1>Exploring the Gapminder Dataset</h1>
        <p>
          Let's start by looking at the distrubtion of life expectancy for all
          countries in the year 2005.
        </p>
        <div class="chart-container">
          <div id="life-ticks"></div>
        </div>
        <p>
          Tick marks are a good way to represent this quantitative value along a
          single axis. We can get a good idea about the distribution this way.
          However, suppose the reader wants to investigate those countries with
          life expectancies lower than 50 or wants to find the life expectancy
          of a specific country. Tooltips are implemented on the graphic above,
          but it is difficult to get your pointer directly above any individual
          tick mark.
        </p>
        <p>
          For now, let's highlight the United States and China in the graphic
          below.
        </p>
        <div id="life-ticks-2"></div>
        <p>
          First, a couple of notes about the visualization. To better
          distinguish the countries the markers have been changed to circles.
          Countries that are not the United States and China are now grey and
          set to a very low opacity so they appear faint in the figure. The
          United States and China are given their own colors, drawn with no
          transperancy, and the size of the cirlces have been increased.
        </p>
        <p>
          We might ask what the distribution of life expectancy was in 1955. How
          did the life expectancies of the United States and China compare then?
        </p>
        <div id="life-ticks-3"></div>
        <p>
          We can see there was a huge disparity is life expectacy in 1955. Many
          countries had a life expectancy under 50 years old. China's life
          expectancy was just over 50 years. The Unted States, which started at
          the upper end of the spectrum with a life expectacy around 69 years in
          1955 saw its life expectacy increase to over 78 years by 2005.
        </p>
        <p>
          Let's now get a more detailed view of how life expectacy has changed
          over time. We're going to switch to encoding the years of life
          expectancy for a country on the y-axis and time along the x-axis. We
          will also draw lines connecting the points over time. Please note,
          because the United States appears vertically higher in the chart we
          will flip the order of our countries in the color scheme so the United
          States appears on top in the legend. We will also do this in the
          charts that follow.
        </p>
        <div id="fig4"></div>
        <p>
          This is a slope graph. It is probably harder to get a sense of the
          overall distribution of life expetancy across countries, but we can
          now easily see the trends over time in the United States and China,
          and easily compare the two countries over time.
        </p>
        <p>
          Now let's include all years in the dataset and smooth the lines using
          a monotone interpolation.
        </p>
        <div id="fig5"></div>
        <p>
          Of course, we can't leave without reproducing the classic
          visualization from this dataset.
        </p>
        <div id="fig6"></div>
        <div class="slidecontainer">
          <label for="slideYear">Select Year:</label>
          <input
            id="slideYear"
            type="range"
            min="1955"
            max="2005"
            step="5"
            value="1955"
            class="slider"
          />
          <div id="slideOutput">1955</div>
        </div>
        <p>
          This is where we start preferring D3 to Vega-Lite. The above graphic
          is completely redrawn when the user moves the range slider. D3 would
          allow us to only redraw the parts of the chart that need to be
          updated.
        </p>
      </article>
    </div>
    <script src="./gapminder.js"></script>
  </body>
</html>
